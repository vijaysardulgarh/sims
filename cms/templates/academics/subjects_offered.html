{% extends "base.html" %}
{% load static %}

{% block title %}Subjects Offered - {{ school.name }}{% endblock %}

{% block content %}
<header class="bg-warning text-dark text-center py-4 rounded shadow-sm">
  <h1>ðŸ“š Subjects Offered</h1>
  <h3>{{ school.name }}</h3>
</header>

<section class="mt-4">
  {% for level, classes in grouped_data.items %}
    {% if classes %}
      <article class="mb-4">
        <h2>{{ level }}</h2>

        {% for class_name, subjects in classes.items %}
          <h4 class="mt-3">{{ class_name }}</h4>
          <ul class="list-group list-group-flush">
            {% for subject in subjects %}
              <li class="list-group-item d-flex justify-content-between align-items-center">
                <span>
                  {{ subject.name }}
                  {% if subject.is_optional %}<span class="badge bg-info ms-2">Optional</span>{% endif %}
                  {% if subject.has_lab %}<span class="badge bg-success ms-2">Lab</span>{% endif %}
                </span>
                <span class="badge bg-secondary">
                  {{ subject.periods_per_week }} periods/week
                </span>
              </li>
            {% endfor %}
          </ul>
        {% endfor %}
      </article>
    {% else %}
      <p class="text-muted">No subjects available for {{ level }}.</p>
    {% endif %}
  {% endfor %}
</section>
{% endblock %}
